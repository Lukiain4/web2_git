-- MySQL Script generated by MySQL Workbench
-- Sun Feb 25 11:44:09 2024
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
-- -----------------------------------------------------
-- Schema new_schema1
-- -----------------------------------------------------
-- -----------------------------------------------------
-- Schema Solidarite
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `Solidarite` ;

-- -----------------------------------------------------
-- Schema Solidarite
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `Solidarite` DEFAULT CHARACTER SET utf8 COLLATE utf8_bin ;
USE `Solidarite` ;

-- -----------------------------------------------------
-- Table `Solidarite`.`Role`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Solidarite`.`Role` ;

CREATE TABLE IF NOT EXISTS `Solidarite`.`Role` (
  `id` INT NOT NULL,
  `nom` VARCHAR(45) NOT NULL,
  `description` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;

INSERT INTO `Solidarite`.`Role` 
(`id`,
 `nom`,
 `description`
 )

VALUES
(1, 'Admin', 'Administrateur du système'),
(2, 'Solidaire', 'Individue solidaire'),
(3, 'Organisateur', 'Organisateur des projets');

-- -----------------------------------------------------
-- Table `Solidarite`.`Projet`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Solidarite`.`Projet` ;

CREATE TABLE IF NOT EXISTS `Solidarite`.`Projet` (
  `id` INT NOT NULL,
  `nom` VARCHAR(45) NOT NULL,
  `description` VARCHAR(255) NOT NULL,
  `Roles` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_Projet_Role_idx` (`Roles` ASC),
  CONSTRAINT `fk_Projet_Role`
    FOREIGN KEY (`Roles`)
    REFERENCES `Solidarite`.`Role` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

INSERT INTO `Solidarite`.`Projet` 
(`id`,
 `nom`,
 `description`,
 `Roles`
 )

VALUES
(1, 'Projet Solidarité Locale', 'Encourager la solidarité locale pour soutenir les personnes dans le besoin.', 1),
(2, 'Initiative de Repas Communautaires', 'Organiser des repas communautaires pour les résidents du quartier.', 2),
(3, 'Projet Jardin Partagé', 'Création d\'un jardin communautaire pour promouvoir l\'agriculture urbaine.', 3),
(4, 'Programme de Mentorat pour Jeunes', 'Offrir un programme de mentorat pour les jeunes de la communauté.', 1),
(5, 'Collecte de Fournitures Scolaires', 'Organiser une collecte de fournitures scolaires pour les familles défavorisées.',3);
-- -----------------------------------------------------
-- Table `Solidarite`.`Organisation`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Solidarite`.`Organisation` ;

CREATE TABLE IF NOT EXISTS `Solidarite`.`Organisation` (
  `id` INT NOT NULL,
  `nom` VARCHAR(45) NOT NULL,
  `Projet_id` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_Organisation_Projet1_idx` (`Projet_id` ASC),
  CONSTRAINT `fk_Organisation_Projet1`
    FOREIGN KEY (`Projet_id`)
    REFERENCES `Solidarite`.`Projet` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Solidarite`.`InitiativeCaritative`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Solidarite`.`InitiativeCaritative` ;

CREATE TABLE IF NOT EXISTS `Solidarite`.`InitiativeCaritative` (
  `id` INT NOT NULL,
  `nom` VARCHAR(45) NOT NULL,
  `description` VARCHAR(45) NOT NULL,
  `roles` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_InitiativeCaritative_Role1_idx` (`roles` ASC),
  CONSTRAINT `fk_InitiativeCaritative_Role1`
    FOREIGN KEY (`roles`)
    REFERENCES `Solidarite`.`Role` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Solidarite`.`Campagne`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Solidarite`.`Campagne` ;

CREATE TABLE IF NOT EXISTS `Solidarite`.`Campagne` (
  `id` INT NOT NULL,
  `nom` VARCHAR(45) NOT NULL,
  `description` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Solidarite`.`IndividuSolidaire`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Solidarite`.`IndividuSolidaire` ;

CREATE TABLE IF NOT EXISTS `Solidarite`.`IndividuSolidaire` (
  `id` INT NOT NULL,
  `nom` VARCHAR(45) NOT NULL,
  `prenom` VARCHAR(45) NOT NULL,
  `email` VARCHAR(45) NOT NULL,
  `password` VARCHAR(45) NOT NULL,
  `Role_id` INT NOT NULL,
  PRIMARY KEY (`id`, `Role_id`),
  INDEX `fk_IndividuSolidaire_Role1_idx` (`Role_id` ASC),
  CONSTRAINT `fk_IndividuSolidaire_Role1`
    FOREIGN KEY (`Role_id`)
    REFERENCES `Solidarite`.`Role` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

INSERT INTO `Solidarite`.`IndividuSolidaire`
(`id`,
`nom`,
`prenom`,
`email`,
`password`,
`Role_id`
)
VALUES
(1, 'Dupont', 'Alice', 'alice@email.com', 'motdepasse1', 2),
(2, 'Martin', 'Bob', 'bob@email.com', 'motdepasse2', 2),
(3, 'Lefevre', 'David', 'david@email.com', 'motdepasse4', 2),
(4, 'Moreau', 'Franck', 'franck@email.com', 'motdepasse6', 2),
(6, 'Roy', 'Karen', 'karen@email.com', 'motdepasse11', 2),
(7, 'Fournier', 'Louis', 'louis@email.com', 'motdepasse12', 2);

-- -----------------------------------------------------
-- Table `Solidarite`.`OrganisateurProjetSolidaire`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Solidarite`.`OrganisateurProjetSolidaire` ;

CREATE TABLE IF NOT EXISTS `Solidarite`.`OrganisateurProjetSolidaire` (
  `id` INT NOT NULL,
  `nom` VARCHAR(45) NOT NULL,
  `prenom` VARCHAR(45) NOT NULL,
  `email` VARCHAR(45) NOT NULL,
  `password` VARCHAR(45) NOT NULL,
  `Role_id` INT NOT NULL,
  `Projet_id` INT NOT NULL,
  PRIMARY KEY (`id`, `Role_id`),
  INDEX `fk_OrganisateurProjetSolidaire_Projet1_idx` (`Projet_id` ASC),
  INDEX `fk_OrganisateurProjetSolidaire_Role1_idx` (`Role_id` ASC),
  CONSTRAINT `fk_OrganisateurProjetSolidaire_Projet1`
    FOREIGN KEY (`Projet_id`)
    REFERENCES `Solidarite`.`Projet` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_OrganisateurProjetSolidaire_Role1`
    FOREIGN KEY (`Role_id`)
    REFERENCES `Solidarite`.`Role` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

INSERT INTO `Solidarite`.`OrganisateurProjetSolidaire`
(`id`,
`nom`,
`prenom`,
`email`,
`password`,
`Role_id`,
`Projet_id`
)

VALUES
(1, 'Girard', 'Jean', 'jean@email.com', 'motdepasse10', 3,3),
(2, 'Perrin', 'Giselle', 'giselle@email.com', 'motdepasse7', 3,5),
(3, 'Leroux', 'Emily', 'emily@email.com', 'motdepasse5', 1,4),
(4, 'Roux', 'Hugo', 'hugo@email.com', 'motdepasse8', 1,1),
(5, 'Dubois', 'Claire', 'claire@email.com', 'motdepasse3', 1,1),
(5, 'Bernard', 'Isabelle', 'isabelle@email.com', 'motdepasse9', 3,2);


-- -----------------------------------------------------
-- Table `Solidarite`.`Association`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Solidarite`.`Association` ;

CREATE TABLE IF NOT EXISTS `Solidarite`.`Association` (
  `id` INT NOT NULL,
  `email` VARCHAR(45) NOT NULL,
  `password` VARCHAR(45) NOT NULL,
  `Campagnes_id` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_Association_Campagne1_idx` (`Campagnes_id` ASC),
  CONSTRAINT `fk_Association_Campagne1`
    FOREIGN KEY (`Campagnes_id`)
    REFERENCES `Solidarite`.`Campagne` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Solidarite`.`AdministrateurPlateforme`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Solidarite`.`AdministrateurPlateforme` ;

CREATE TABLE IF NOT EXISTS `Solidarite`.`AdministrateurPlateforme` (
  `id` INT NOT NULL,
  `email` VARCHAR(45) NOT NULL,
  `password` VARCHAR(45) NOT NULL,
  `IndividuSolidaire_id` INT NOT NULL,
  `IndividuSolidaire_Role_id` INT NOT NULL,
  `OrganisateurProjetSolidaire_id` INT NOT NULL,
  `OrganisateurProjetSolidaire_Role_id` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_AdministrateurPlateforme_IndividuSolidaire1_idx` (`IndividuSolidaire_id` ASC, `IndividuSolidaire_Role_id` ASC),
  INDEX `fk_AdministrateurPlateforme_OrganisateurProjetSolidaire1_idx` (`OrganisateurProjetSolidaire_id` ASC, `OrganisateurProjetSolidaire_Role_id` ASC),
  CONSTRAINT `fk_AdministrateurPlateforme_IndividuSolidaire1`
    FOREIGN KEY (`IndividuSolidaire_id` , `IndividuSolidaire_Role_id`)
    REFERENCES `Solidarite`.`IndividuSolidaire` (`id` , `Role_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_AdministrateurPlateforme_OrganisateurProjetSolidaire1`
    FOREIGN KEY (`OrganisateurProjetSolidaire_id` , `OrganisateurProjetSolidaire_Role_id`)
    REFERENCES `Solidarite`.`OrganisateurProjetSolidaire` (`id` , `Role_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
